# 🎯 1602 Lucky Draw - 幸运抽奖系统

一个功能完整的在线抽奖系统，支持用户注册、抽奖、奖品管理和数据统计。

## 🌟 系统特色

### ✨ 核心功能
- **用户注册系统** - 支持姓名、邮箱、电话、公司信息收集
- **智能抽奖引擎** - 基于概率的公平抽奖算法
- **实时数据同步** - 使用 Supabase 实时数据库
- **管理后台** - 完整的数据统计和管理功能
- **响应式设计** - 支持桌面和移动设备

### 🛡️ 技术特性
- **云端数据库** - Supabase PostgreSQL 数据库
- **增强连接管理** - 自动重连、心跳检测、错误恢复
- **网络韧性** - 支持离线缓存和网络恢复
- **安全防护** - 行级安全策略 (RLS) 和数据验证
- **性能优化** - 连接池管理和查询优化

## 🚀 快速开始

### 1. 启动本地服务器
```bash
# 在项目目录下运行
python -m http.server 8000

# 或使用 Node.js
npx http-server -p 8000
```

### 2. 配置数据库
1. 按照 [数据库设置指南](SETUP_DATABASE.md) 配置 Supabase 数据库
2. 确保 `supabase-config.js` 中的配置正确

### 3. 验证系统
访问 [一键测试页面](http://localhost:8000/one-click-test.html) 运行完整测试

## 📱 页面导航

### 🎯 用户端
- **主页面**: [index.html](http://localhost:8000/index.html)
  - 用户注册和抽奖功能
  - 实时抽奖动画
  - 中奖结果展示

### ⚙️ 管理端
- **管理后台**: [admin.html](http://localhost:8000/admin.html)
  - 用户数据统计
  - 抽奖记录查看
  - 系统设置管理

### 🔧 系统工具
- **一键测试**: [one-click-test.html](http://localhost:8000/one-click-test.html)
  - 完整系统功能测试
  - 数据库连接验证
  - 性能监控

- **系统检查**: [system-ready-check.html](http://localhost:8000/system-ready-check.html)
  - 系统状态监控
  - 配置验证
  - 健康检查

## 🎲 抽奖系统说明

### 奖品配置
- **一等奖**: iPhone 15 Pro (0.01% 概率)
- **二等奖**: iPad Air (0.05% 概率)
- **三等奖**: AirPods Pro (0.1% 概率)
- **四等奖**: 100元京东卡 (1% 概率)
- **五等奖**: 50元京东卡 (5% 概率)
- **六等奖**: 20元京东卡 (10% 概率)
- **谢谢参与**: 83.84% 概率

### 抽奖规则
- 每个用户最多可抽奖 3 次
- 实物奖品数量有限，先到先得
- 虚拟奖品（京东卡）数量充足
- 中奖后需在 7 个工作日内联系客服领取

## 🔧 技术架构

### 前端技术
- **HTML5 + CSS3** - 现代化界面设计
- **JavaScript ES6+** - 原生 JavaScript 开发
- **Tailwind CSS** - 响应式样式框架
- **Canvas API** - 抽奖转盘动画

### 后端服务
- **Supabase** - 云端数据库和实时服务
- **PostgreSQL** - 关系型数据库
- **Row Level Security** - 数据安全策略
- **Real-time Subscriptions** - 实时数据同步

## 📞 技术支持

### 常见问题
1. **数据库连接失败** - 检查配置文件和网络连接
2. **抽奖功能异常** - 验证奖品配置和概率设置
3. **页面加载错误** - 确认所有文件路径正确
4. **实时功能失效** - 检查 Supabase 实时服务状态

---

**🎉 感谢使用 1602 Lucky Draw 幸运抽奖系统！**
